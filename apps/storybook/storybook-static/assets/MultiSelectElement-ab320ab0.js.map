{"version":3,"file":"MultiSelectElement-ab320ab0.js","sources":["../../../../node_modules/@mui/material/esm/ListItemText/ListItemText.js","../../../../node_modules/@mui/icons-material/Cancel.js","../../../../packages/rhf-mui/src/MultiSelectElement.tsx"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"disableTypography\", \"inset\", \"primary\", \"primaryTypographyProps\", \"secondary\", \"secondaryTypographyProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport Typography from '../Typography';\nimport ListContext from '../List/ListContext';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport listItemTextClasses, { getListItemTextUtilityClass } from './listItemTextClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    inset,\n    primary,\n    secondary,\n    dense\n  } = ownerState;\n  const slots = {\n    root: ['root', inset && 'inset', dense && 'dense', primary && secondary && 'multiline'],\n    primary: ['primary'],\n    secondary: ['secondary']\n  };\n  return composeClasses(slots, getListItemTextUtilityClass, classes);\n};\n\nconst ListItemTextRoot = styled('div', {\n  name: 'MuiListItemText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${listItemTextClasses.primary}`]: styles.primary\n    }, {\n      [`& .${listItemTextClasses.secondary}`]: styles.secondary\n    }, styles.root, ownerState.inset && styles.inset, ownerState.primary && ownerState.secondary && styles.multiline, ownerState.dense && styles.dense];\n  }\n})(({\n  ownerState\n}) => _extends({\n  flex: '1 1 auto',\n  minWidth: 0,\n  marginTop: 4,\n  marginBottom: 4\n}, ownerState.primary && ownerState.secondary && {\n  marginTop: 6,\n  marginBottom: 6\n}, ownerState.inset && {\n  paddingLeft: 56\n}));\nconst ListItemText = /*#__PURE__*/React.forwardRef(function ListItemText(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemText'\n  });\n\n  const {\n    children,\n    className,\n    disableTypography = false,\n    inset = false,\n    primary: primaryProp,\n    primaryTypographyProps,\n    secondary: secondaryProp,\n    secondaryTypographyProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    dense\n  } = React.useContext(ListContext);\n  let primary = primaryProp != null ? primaryProp : children;\n  let secondary = secondaryProp;\n\n  const ownerState = _extends({}, props, {\n    disableTypography,\n    inset,\n    primary: !!primary,\n    secondary: !!secondary,\n    dense\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  if (primary != null && primary.type !== Typography && !disableTypography) {\n    primary = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: dense ? 'body2' : 'body1',\n      className: classes.primary,\n      component: primaryTypographyProps != null && primaryTypographyProps.variant ? undefined : 'span',\n      display: \"block\"\n    }, primaryTypographyProps, {\n      children: primary\n    }));\n  }\n\n  if (secondary != null && secondary.type !== Typography && !disableTypography) {\n    secondary = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: \"body2\",\n      className: classes.secondary,\n      color: \"text.secondary\",\n      display: \"block\"\n    }, secondaryTypographyProps, {\n      children: secondary\n    }));\n  }\n\n  return /*#__PURE__*/_jsxs(ListItemTextRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: [primary, secondary]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemText.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Alias for the `primary` prop.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the children won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `children` (or `primary`) text, and optional `secondary` text\n   * with the Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * If `true`, the children are indented.\n   * This should be used if there is no left avatar or left icon.\n   * @default false\n   */\n  inset: PropTypes.bool,\n\n  /**\n   * The main content element.\n   */\n  primary: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the primary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  primaryTypographyProps: PropTypes.object,\n\n  /**\n   * The secondary content element.\n   */\n  secondary: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the secondary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  secondaryTypographyProps: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemText;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');\n\nexports.default = _default;","import CloseIcon from '@mui/icons-material/Cancel'\nimport {Control, Controller, FieldError, Path} from 'react-hook-form'\nimport {\n  Checkbox,\n  Chip,\n  FormControl,\n  FormControlProps,\n  FormHelperText,\n  InputLabel,\n  ListItemText,\n  MenuItem,\n  Select,\n  SelectProps,\n} from '@mui/material'\nimport {FieldValues} from 'react-hook-form/dist/types/fields'\nimport {useFormError} from './FormErrorProvider'\n\nexport type MultiSelectElementProps<T extends FieldValues> = Omit<\n  SelectProps,\n  'value'\n> & {\n  options: {id: string | number; label: string}[] | any[]\n  label?: string\n  itemKey?: string\n  itemValue?: string\n  itemLabel?: string\n  required?: boolean\n  validation?: any\n  name: Path<T>\n  parseError?: (error: FieldError) => string\n  minWidth?: number\n  menuMaxHeight?: number\n  menuMaxWidth?: number\n  helperText?: string\n  showChips?: boolean\n  preserveOrder?: boolean\n  control?: Control<T>\n  showCheckbox?: boolean\n  formControlProps?: Omit<FormControlProps, 'fullWidth' | 'variant'>\n}\n\nconst ITEM_HEIGHT = 48\nconst ITEM_PADDING_TOP = 8\n\nexport default function MultiSelectElement<TFieldValues extends FieldValues>({\n  options,\n  label = '',\n  itemKey = 'id',\n  itemValue = '',\n  itemLabel = 'label',\n  required = false,\n  validation = {},\n  parseError,\n  name,\n  menuMaxHeight = ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n  menuMaxWidth = 250,\n  minWidth = 120,\n  helperText,\n  showChips,\n  preserveOrder,\n  control,\n  showCheckbox,\n  formControlProps,\n  ...rest\n}: MultiSelectElementProps<TFieldValues>): JSX.Element {\n  const errorMsgFn = useFormError()\n  const customErrorFn = parseError || errorMsgFn\n  if (required && !validation.required) {\n    validation.required = 'This field is required'\n  }\n\n  return (\n    <Controller\n      name={name}\n      rules={validation}\n      control={control}\n      render={({field: {value, onChange, onBlur}, fieldState: {error}}) => {\n        helperText = error\n          ? typeof customErrorFn === 'function'\n            ? customErrorFn(error)\n            : error.message\n          : helperText\n        return (\n          <FormControl\n            {...formControlProps}\n            style={{\n              ...formControlProps?.style,\n              minWidth,\n            }}\n            variant={rest.variant}\n            fullWidth={rest.fullWidth}\n            error={!!error}\n            size={rest.size}\n          >\n            {label && (\n              <InputLabel\n                size={rest.size === 'small' ? 'small' : undefined}\n                error={!!error}\n                htmlFor={rest.id || `select-multi-select-${name}`}\n                required={required}\n              >\n                {label}\n              </InputLabel>\n            )}\n            <Select\n              {...rest}\n              id={rest.id || `select-multi-select-${name}`}\n              multiple\n              label={label || undefined}\n              error={!!error}\n              value={value || []}\n              required={required}\n              onChange={onChange}\n              onBlur={onBlur}\n              MenuProps={{\n                ...rest.MenuProps,\n                PaperProps: {\n                  ...(rest.MenuProps?.PaperProps ?? {\n                    style: {\n                      maxHeight: menuMaxHeight,\n                      width: menuMaxWidth,\n                      ...rest.MenuProps?.PaperProps?.style,\n                    },\n                  }),\n                },\n              }}\n              renderValue={\n                typeof rest.renderValue === 'function'\n                  ? rest.renderValue\n                  : showChips\n                  ? (selected) => (\n                      <div style={{display: 'flex', flexWrap: 'wrap'}}>\n                        {(preserveOrder\n                          ? options.filter((option) =>\n                              (selected as any[]).includes(option)\n                            )\n                          : (selected as any[]) || []\n                        ).map((selectedValue) => (\n                          <Chip\n                            key={selectedValue}\n                            label={selectedValue}\n                            style={{display: 'flex', flexWrap: 'wrap'}}\n                            onDelete={() => {\n                              onChange(\n                                value.filter((i: any) => i !== selectedValue)\n                              )\n                              // setValue(name, formValue.filter((i: any) => i !== value), { shouldValidate: true })\n                            }}\n                            deleteIcon={\n                              <CloseIcon\n                                onMouseDown={(ev) => {\n                                  ev.stopPropagation()\n                                }}\n                              />\n                            }\n                          />\n                        ))}\n                      </div>\n                    )\n                  : (selected) =>\n                      Array.isArray(selected) ? selected.join(', ') : ''\n              }\n            >\n              {options.map((item) => {\n                const val: string | number = item[itemValue || itemKey] || item\n                const isChecked = Array.isArray(value)\n                  ? value.includes(val)\n                  : false\n                return (\n                  <MenuItem\n                    key={val}\n                    value={val}\n                    sx={{\n                      fontWeight: (theme) =>\n                        isChecked\n                          ? theme.typography.fontWeightBold\n                          : theme.typography.fontWeightRegular,\n                    }}\n                  >\n                    {showCheckbox && <Checkbox checked={isChecked} />}\n                    <ListItemText primary={item[itemLabel] || item} />\n                  </MenuItem>\n                )\n              })}\n            </Select>\n            {helperText && <FormHelperText>{helperText}</FormHelperText>}\n          </FormControl>\n        )\n      }}\n    />\n  )\n}\n"],"names":["_excluded","useUtilityClasses","ownerState","classes","inset","primary","secondary","dense","composeClasses","getListItemTextUtilityClass","ListItemTextRoot","styled","props","styles","listItemTextClasses","_extends","ListItemText","React.forwardRef","inProps","ref","useThemeProps","children","className","disableTypography","primaryProp","primaryTypographyProps","secondaryProp","secondaryTypographyProps","other","_objectWithoutPropertiesLoose","React.useContext","ListContext","Typography","_jsx","_jsxs","clsx","ListItemText$1","_interopRequireDefault","require$$0","Cancel","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","_default","ITEM_HEIGHT","ITEM_PADDING_TOP","MultiSelectElement","options","label","itemKey","itemValue","itemLabel","required","validation","parseError","name","menuMaxHeight","menuMaxWidth","minWidth","helperText","showChips","preserveOrder","control","showCheckbox","formControlProps","rest","errorMsgFn","useFormError","customErrorFn","jsx","Controller","value","onChange","onBlur","error","jsxs","FormControl","InputLabel","Select","_a","_c","_b","selected","option","selectedValue","Chip","i","CloseIcon","ev","item","val","isChecked","MenuItem","theme","Checkbox","FormHelperText"],"mappings":"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","x_google_ignoreList":[0,1]}