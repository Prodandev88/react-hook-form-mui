import{j as f,i as Le,k as Ie,R as _e,D as Pe,G as De,T as I,c as Ce,l as Ae,s as Ve}from"./createTheme-CiZYJ6wm.js";import{r as i}from"./index-BP8_t0zE.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-UWD3gXM2.js";const pe=i.createContext(null);function F(){return i.useContext(pe)}const Ke=typeof Symbol=="function"&&Symbol.for,Oe=Ke?Symbol.for("mui.nested"):"__THEME_NESTED__";function Re(e,t){return typeof t=="function"?t(e):{...e,...t}}function Ne(e){const{children:t,theme:r}=e,l=F(),y=i.useMemo(()=>{const m=l===null?{...r}:Re(l,r);return m!=null&&(m[Oe]=l!==null),m},[r,l]);return f.jsx(pe.Provider,{value:y,children:t})}const fe={};function Se(e,t,r,l=!1){return i.useMemo(()=>{const y=e&&t[e]||t;if(typeof r=="function"){const m=r(y),o=e?{...t,[e]:m}:m;return l?()=>o:o}return e?{...t,[e]:r}:{...t,...r}},[e,t,r,l])}function ke(e){const{children:t,theme:r,themeId:l}=e,y=Le(fe),m=F()||fe,o=Se(l,y,r),p=Se(l,m,r,!0),S=o.direction==="rtl";return f.jsx(Ne,{theme:p,children:f.jsx(Ie.Provider,{value:o,children:f.jsx(_e,{value:S,children:f.jsx(Pe,{value:o==null?void 0:o.components,children:t})})})})}const U="mode",q="color-scheme",We="data-color-scheme";function Ge(e){const{defaultLightColorScheme:t="light",defaultDarkColorScheme:r="dark",modeStorageKey:l=U,colorSchemeStorageKey:y=q,attribute:m=We,colorSchemeNode:o="document.documentElement",nonce:p}=e||{};let S="",h=m;if(m==="class"&&(h=".%s"),m==="data"&&(h="[data-%s]"),h.startsWith(".")){const g=h.substring(1);S+=`${o}.classList.remove('${g}'.replace('%s', light), '${g}'.replace('%s', dark));
      ${o}.classList.add('${g}'.replace('%s', colorScheme));`}const k=h.match(/\[([^\]]+)\]/);if(k){const[g,w]=k[1].split("=");w||(S+=`${o}.removeAttribute('${g}'.replace('%s', light));
      ${o}.removeAttribute('${g}'.replace('%s', dark));`),S+=`
      ${o}.setAttribute('${g}'.replace('%s', colorScheme), ${w?`${w}.replace('%s', colorScheme)`:'""'});`}else S+=`${o}.setAttribute('${h}', colorScheme);`;return f.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  var mode = localStorage.getItem('${l}') || 'system';
  var colorScheme = '';
  var dark = localStorage.getItem('${y}-dark') || '${r}';
  var light = localStorage.getItem('${y}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    var mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${S}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function ge(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function xe(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function He(e){return xe(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function H(e,t){if(typeof window>"u")return;let r;try{r=localStorage.getItem(e)||void 0,r||localStorage.setItem(e,t)}catch{}return r||t}function Fe(e){const{defaultMode:t="light",defaultLightColorScheme:r,defaultDarkColorScheme:l,supportedColorSchemes:y=[],modeStorageKey:m=U,colorSchemeStorageKey:o=q,storageWindow:p=typeof window>"u"?void 0:window}=e,S=y.join(","),h=y.length>1,[k,g]=i.useState(()=>{const n=H(m,t),s=H(`${o}-light`,r),c=H(`${o}-dark`,l);return{mode:n,systemMode:ge(n),lightColorScheme:s,darkColorScheme:c}}),[,w]=i.useState(!1),b=i.useRef(!1);i.useEffect(()=>{h&&w(!0),b.current=!0},[h]);const Y=He(k),$=i.useCallback(n=>{g(s=>{if(n===s.mode)return s;const c=n??t;try{localStorage.setItem(m,c)}catch{}return{...s,mode:c,systemMode:ge(c)}})},[m,t]),v=i.useCallback(n=>{n?typeof n=="string"?n&&!S.includes(n)?console.error(`\`${n}\` does not exist in \`theme.colorSchemes\`.`):g(s=>{const c={...s};return xe(s,u=>{try{localStorage.setItem(`${o}-${u}`,n)}catch{}u==="light"&&(c.lightColorScheme=n),u==="dark"&&(c.darkColorScheme=n)}),c}):g(s=>{const c={...s},u=n.light===null?r:n.light,C=n.dark===null?l:n.dark;if(u)if(!S.includes(u))console.error(`\`${u}\` does not exist in \`theme.colorSchemes\`.`);else{c.lightColorScheme=u;try{localStorage.setItem(`${o}-light`,u)}catch{}}if(C)if(!S.includes(C))console.error(`\`${C}\` does not exist in \`theme.colorSchemes\`.`);else{c.darkColorScheme=C;try{localStorage.setItem(`${o}-dark`,C)}catch{}}return c}):g(s=>{try{localStorage.setItem(`${o}-light`,r),localStorage.setItem(`${o}-dark`,l)}catch{}return{...s,lightColorScheme:r,darkColorScheme:l}})},[S,o,r,l]),j=i.useCallback(n=>{k.mode==="system"&&g(s=>{const c=n!=null&&n.matches?"dark":"light";return s.systemMode===c?s:{...s,systemMode:c}})},[k.mode]),P=i.useRef(j);return P.current=j,i.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const n=(...c)=>P.current(...c),s=window.matchMedia("(prefers-color-scheme: dark)");return s.addListener(n),n(s),()=>{s.removeListener(n)}},[h]),i.useEffect(()=>{if(p&&h){const n=s=>{const c=s.newValue;typeof s.key=="string"&&s.key.startsWith(o)&&(!c||S.match(c))&&(s.key.endsWith("light")&&v({light:c}),s.key.endsWith("dark")&&v({dark:c})),s.key===m&&(!c||["light","dark","system"].includes(c))&&$(c||t)};return p.addEventListener("storage",n),()=>{p.removeEventListener("storage",n)}}},[v,$,m,o,S,t,p,h]),{...k,mode:b.current||!h?k.mode:void 0,systemMode:b.current||!h?k.systemMode:void 0,colorScheme:b.current||!h?Y:void 0,setMode:$,setColorScheme:v}}const Ue="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function qe(e){const{themeId:t,theme:r={},modeStorageKey:l=U,colorSchemeStorageKey:y=q,disableTransitionOnChange:m=!1,defaultColorScheme:o,resolveTheme:p}=e,S={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},h=i.createContext(void 0),k=()=>i.useContext(h)||S;function g($){var le,ae,de,me,he;const{children:v,theme:j,modeStorageKey:P=l,colorSchemeStorageKey:n=y,disableTransitionOnChange:s=m,storageWindow:c=typeof window>"u"?void 0:window,documentNode:u=typeof document>"u"?void 0:document,colorSchemeNode:C=typeof document>"u"?void 0:document.documentElement,disableNestedContext:V=!1,disableStyleSheetGeneration:Me=!1}=$,K=i.useRef(!1),O=F(),R=i.useContext(h),N=!!R&&!V,z=i.useMemo(()=>j||(typeof r=="function"?r():r),[j]),B=z[t],{colorSchemes:E={},components:Te={},cssVarPrefix:Q,...T}=B||z,J=Object.keys(E).filter(a=>!!E[a]).join(","),L=i.useMemo(()=>J.split(","),[J]),X=typeof o=="string"?o:o.light,Z=typeof o=="string"?o:o.dark,we=E[X]&&E[Z]?"system":((ae=(le=E[T.defaultColorScheme])==null?void 0:le.palette)==null?void 0:ae.mode)||((de=T.palette)==null?void 0:de.mode),{mode:$e,setMode:ee,systemMode:te,lightColorScheme:oe,darkColorScheme:re,colorScheme:Ee,setColorScheme:ne}=Fe({supportedColorSchemes:L,defaultLightColorScheme:X,defaultDarkColorScheme:Z,modeStorageKey:P,colorSchemeStorageKey:n,defaultMode:we,storageWindow:c});let W=$e,x=Ee;N&&(W=R.mode,x=R.colorScheme);const se=x||T.defaultColorScheme,be=((me=T.generateThemeVars)==null?void 0:me.call(T))||T.vars,M={...T,components:Te,colorSchemes:E,cssVarPrefix:Q,vars:be};if(typeof M.generateSpacing=="function"&&(M.spacing=M.generateSpacing()),se){const a=E[se];a&&typeof a=="object"&&Object.keys(a).forEach(d=>{a[d]&&typeof a[d]=="object"?M[d]={...M[d],...a[d]}:M[d]=a[d]})}const _=T.colorSchemeSelector;i.useEffect(()=>{if(x&&C&&_&&_!=="media"){const a=_;let d=_;if(a==="class"&&(d=".%s"),a==="data"&&(d="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(d=`[${a}="%s"]`),d.startsWith("."))C.classList.remove(...L.map(D=>d.substring(1).replace("%s",D))),C.classList.add(d.substring(1).replace("%s",x));else{const D=d.replace("%s",x).match(/\[([^\]]+)\]/);if(D){const[ue,G]=D[1].split("=");G||L.forEach(je=>{C.removeAttribute(ue.replace(x,je))}),C.setAttribute(ue,G?G.replace(/"|'/g,""):"")}else C.setAttribute(d,x)}}},[x,_,C,L]),i.useEffect(()=>{let a;if(s&&K.current&&u){const d=u.createElement("style");d.appendChild(u.createTextNode(Ue)),u.head.appendChild(d),window.getComputedStyle(u.body),a=setTimeout(()=>{u.head.removeChild(d)},1)}return()=>{clearTimeout(a)}},[x,s,u]),i.useEffect(()=>(K.current=!0,()=>{K.current=!1}),[]);const ve=i.useMemo(()=>({allColorSchemes:L,colorScheme:x,darkColorScheme:re,lightColorScheme:oe,mode:W,setColorScheme:ne,setMode:ee,systemMode:te}),[L,x,re,oe,W,ne,ee,te]);let ce=!0;(Me||T.cssVariables===!1||N&&(O==null?void 0:O.cssVarPrefix)===Q)&&(ce=!1);const ie=f.jsxs(i.Fragment,{children:[ce&&f.jsx(i.Fragment,{children:(((he=M.generateStyleSheets)==null?void 0:he.call(M))||[]).map((a,d)=>f.jsx(De,{styles:a},d))}),f.jsx(ke,{themeId:B?t:void 0,theme:p?p(M):M,children:v})]});return N?ie:f.jsx(h.Provider,{value:ve,children:ie})}const w=typeof o=="string"?o:o.light,b=typeof o=="string"?o:o.dark;return{CssVarsProvider:g,useColorScheme:k,getInitColorSchemeScript:$=>Ge({colorSchemeStorageKey:y,defaultLightColorScheme:w,defaultDarkColorScheme:b,modeStorageKey:l,...$})}}function ye({theme:e,...t}){const r=I in e?e[I]:void 0;return f.jsx(ke,{...t,themeId:r?I:void 0,theme:r||e})}const A={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Ye,useColorScheme:et,getInitColorSchemeScript:tt}=qe({themeId:I,theme:()=>Ce({cssVariables:!0}),colorSchemeStorageKey:A.colorSchemeStorageKey,modeStorageKey:A.modeStorageKey,defaultColorScheme:{light:A.defaultLightColorScheme,dark:A.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Ae(e.palette,e.typography)};return t.unstable_sx=function(l){return Ve({sx:l,theme:this})},t}}),ze=Ye;function Be({theme:e,...t}){return typeof e=="function"?f.jsx(ye,{theme:e,...t}):"colorSchemes"in(I in e?e[I]:e)?f.jsx(ze,{theme:e,...t}):f.jsx(ye,{theme:e,...t})}const Qe=Ce(),ot={decorators:[e=>f.jsx(Be,{theme:Qe,children:f.jsx(e,{})})],parameters:{options:{storySort:{method:"alphabetical",locales:"en-US"}}}};export{ot as default};
