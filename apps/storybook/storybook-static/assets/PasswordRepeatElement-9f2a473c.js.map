{"version":3,"file":"PasswordRepeatElement-9f2a473c.js","sources":["../../../../packages/rhf-mui/src/TextFieldElement.tsx","../../../../node_modules/@mui/icons-material/Visibility.js","../../../../node_modules/@mui/icons-material/VisibilityOff.js","../../../../packages/rhf-mui/src/PasswordElement.tsx","../../../../packages/rhf-mui/src/PasswordRepeatElement.tsx"],"sourcesContent":["import {TextField, TextFieldProps} from '@mui/material'\nimport {\n  Control,\n  Controller,\n  ControllerProps,\n  FieldError,\n  Path,\n} from 'react-hook-form'\nimport {FieldValues} from 'react-hook-form/dist/types/fields'\nimport {useFormError} from './FormErrorProvider'\n\nexport type TextFieldElementProps<T extends FieldValues = FieldValues> = Omit<\n  TextFieldProps,\n  'name'\n> & {\n  validation?: ControllerProps['rules']\n  name: Path<T>\n  parseError?: (error: FieldError) => string\n  control?: Control<T>\n}\n\nexport default function TextFieldElement<\n  TFieldValues extends FieldValues = FieldValues\n>({\n  validation = {},\n  parseError,\n  type,\n  required,\n  name,\n  control,\n  ...rest\n}: TextFieldElementProps<TFieldValues>): JSX.Element {\n  const errorMsgFn = useFormError()\n  const customErrorFn = parseError || errorMsgFn\n  if (required && !validation.required) {\n    validation.required = 'This field is required'\n  }\n\n  if (type === 'email' && !validation.pattern) {\n    validation.pattern = {\n      value:\n        // eslint-disable-next-line no-useless-escape\n        /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n      message: 'Please enter a valid email address',\n    }\n  }\n\n  return (\n    <Controller\n      name={name}\n      control={control}\n      rules={validation}\n      render={({\n        field: {value, onChange, onBlur, ref},\n        fieldState: {error},\n      }) => (\n        <TextField\n          {...rest}\n          name={name}\n          value={value ?? ''}\n          onChange={(ev) => {\n            onChange(\n              type === 'number' && ev.target.value\n                ? +ev.target.value\n                : ev.target.value\n            )\n            if (typeof rest.onChange === 'function') {\n              rest.onChange(ev)\n            }\n          }}\n          onBlur={onBlur}\n          required={required}\n          type={type}\n          error={!!error}\n          helperText={\n            error\n              ? typeof customErrorFn === 'function'\n                ? customErrorFn(error)\n                : error.message\n              : rest.helperText\n          }\n          inputRef={ref}\n        />\n      )}\n    />\n  )\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"\n}), 'VisibilityOff');\n\nexports.default = _default;","import {MouseEvent, ReactNode, useState} from 'react'\nimport TextFieldElement, {TextFieldElementProps} from './TextFieldElement'\nimport {IconButton, IconButtonProps, InputAdornment} from '@mui/material'\nimport Visibility from '@mui/icons-material/Visibility'\nimport VisibilityOff from '@mui/icons-material/VisibilityOff'\nimport {FieldValues} from 'react-hook-form/dist/types/fields'\n\nexport type PasswordElementProps<T extends FieldValues> =\n  TextFieldElementProps<T> & {\n    iconColor?: IconButtonProps['color']\n    renderIcon?: (password: boolean) => ReactNode\n  }\n\nexport default function PasswordElement<TFieldValues extends FieldValues>({\n  iconColor,\n  renderIcon = (password) => (password ? <Visibility /> : <VisibilityOff />),\n  ...props\n}: PasswordElementProps<TFieldValues>): JSX.Element {\n  const [password, setPassword] = useState<boolean>(true)\n  return (\n    <TextFieldElement\n      {...props}\n      InputProps={{\n        endAdornment: (\n          <InputAdornment position={'end'}>\n            <IconButton\n              onMouseDown={(e: MouseEvent<HTMLButtonElement>) =>\n                e.preventDefault()\n              }\n              onClick={() => setPassword(!password)}\n              tabIndex={-1}\n              color={iconColor ?? 'default'}\n            >\n              {renderIcon(password)}\n            </IconButton>\n          </InputAdornment>\n        ),\n      }}\n      type={password ? 'password' : 'text'}\n    />\n  )\n}\n","import PasswordElement, {PasswordElementProps} from './PasswordElement'\nimport {Path, useWatch} from 'react-hook-form'\nimport {FieldValues} from 'react-hook-form/dist/types/fields'\n\nexport type PasswordRepeatElementProps<T extends FieldValues> =\n  PasswordElementProps<T> & {\n    passwordFieldName: Path<T>\n  }\nexport default function PasswordRepeatElement<\n  TFieldValues extends FieldValues\n>({passwordFieldName, ...rest}: PasswordRepeatElementProps<TFieldValues>) {\n  const pwValue = useWatch({\n    name: passwordFieldName,\n    control: rest.control,\n  })\n  return (\n    <PasswordElement\n      {...rest}\n      validation={{\n        validate: (value: string) => {\n          return value === pwValue || 'Password should match'\n        },\n      }}\n    />\n  )\n}\n"],"names":["TextFieldElement","validation","parseError","type","required","name","control","rest","errorMsgFn","useFormError","customErrorFn","jsx","Controller","value","onChange","onBlur","ref","error","TextField","ev","_interopRequireDefault","require$$0","Visibility","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","_default","VisibilityOff","PasswordElement","iconColor","renderIcon","password","props","setPassword","useState","InputAdornment","IconButton","e","PasswordRepeatElement","passwordFieldName","pwValue","useWatch"],"mappings":"6YAqBA,SAAwBA,EAEtB,CACA,WAAAC,EAAa,CAAC,EACd,WAAAC,EACA,KAAAC,EACA,SAAAC,EACA,KAAAC,EACA,QAAAC,EACA,GAAGC,CACL,EAAqD,CACnD,MAAMC,EAAaC,IACbC,EAAgBR,GAAcM,EAChC,OAAAJ,GAAY,CAACH,EAAW,WAC1BA,EAAW,SAAW,0BAGpBE,IAAS,SAAW,CAACF,EAAW,UAClCA,EAAW,QAAU,CACnB,MAEE,0JACF,QAAS,oCAAA,GAKXU,EAACC,EAAA,CACC,KAAAP,EACA,QAAAC,EACA,MAAOL,EACP,OAAQ,CAAC,CACP,MAAO,CAAC,MAAAY,EAAO,SAAAC,EAAU,OAAAC,EAAQ,IAAAC,CAAG,EACpC,WAAY,CAAC,MAAAC,CAAK,CAAA,IAElBN,EAACO,EAAA,CACE,GAAGX,EACJ,KAAAF,EACA,MAAOQ,GAAS,GAChB,SAAWM,GAAO,CAChBL,EACEX,IAAS,UAAYgB,EAAG,OAAO,MAC3B,CAACA,EAAG,OAAO,MACXA,EAAG,OAAO,KAAA,EAEZ,OAAOZ,EAAK,UAAa,YAC3BA,EAAK,SAASY,CAAE,CAEpB,EACA,OAAAJ,EACA,SAAAX,EACA,KAAAD,EACA,MAAO,CAAC,CAACc,EACT,WACEA,EACI,OAAOP,GAAkB,WACvBA,EAAcO,CAAK,EACnBA,EAAM,QACRV,EAAK,WAEX,SAAUS,CAAA,CACZ,CAAA,CAAA,CAIR,UCpFII,EAAyBC,EAE7B,OAAO,eAAeC,EAAS,aAAc,CAC3C,MAAO,EACT,CAAC,EACD,IAAeC,EAAAD,EAAA,QAAG,OAEdE,EAAiBJ,EAAuBK,EAAA,CAAgC,EAExEC,EAAcC,EAEdC,KAAeJ,EAAe,YAA2BE,EAAY,KAAK,OAAQ,CACpF,EAAG,mNACL,CAAC,EAAG,YAAY,EAEhBH,EAAAD,EAAA,QAAkBM,WCfdR,EAAyBC,EAE7B,OAAO,eAAeQ,EAAS,aAAc,CAC3C,MAAO,EACT,CAAC,EACD,IAAeN,EAAAM,EAAA,QAAG,OAEdL,EAAiBJ,EAAuBK,EAAA,CAAgC,EAExEC,EAAcC,EAEdC,KAAeJ,EAAe,YAA2BE,EAAY,KAAK,OAAQ,CACpF,EAAG,2fACL,CAAC,EAAG,eAAe,EAEnBH,EAAAM,EAAA,QAAkBD,ECJlB,SAAwBE,EAAkD,CACxE,UAAAC,EACA,WAAAC,EAAcC,GAAcA,IAAYX,EAAW,CAAA,CAAA,IAAMO,EAAc,EAAA,EACvE,GAAGK,CACL,EAAoD,CAClD,KAAM,CAACD,EAAUE,CAAW,EAAIC,WAAkB,EAAI,EAEpD,OAAAzB,EAACX,EAAA,CACE,GAAGkC,EACJ,WAAY,CACV,aACEvB,EAAC0B,EAAe,CAAA,SAAU,MACxB,SAAA1B,EAAC2B,EAAA,CACC,YAAcC,GACZA,EAAE,eAAe,EAEnB,QAAS,IAAMJ,EAAY,CAACF,CAAQ,EACpC,SAAU,GACV,MAAOF,GAAa,UAEnB,WAAWE,CAAQ,CAAA,CAAA,EAExB,CAEJ,EACA,KAAMA,EAAW,WAAa,MAAA,CAAA,CAGpC,CCjCA,SAAwBO,EAEtB,CAAC,kBAAAC,EAAmB,GAAGlC,GAAiD,CACxE,MAAMmC,EAAUC,EAAS,CACvB,KAAMF,EACN,QAASlC,EAAK,OAAA,CACf,EAEC,OAAAI,EAACmB,EAAA,CACE,GAAGvB,EACJ,WAAY,CACV,SAAWM,GACFA,IAAU6B,GAAW,uBAEhC,CAAA,CAAA,CAGN","x_google_ignoreList":[1,2]}